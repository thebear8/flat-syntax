{
  "name": "flat",
  "patterns": [
    {
      "include": "#module_declaration"
    },
    {
      "include": "#struct_declaration"
    },
    {
      "include": "#constraint_declaration"
    }
  ],
  "repository": {
    "module_declaration": {
      "name": "meta.declaration.module.flat",
      "match": "(?:((?:module))(?:\\s*)((?:[a-zA-Z_][a-zA-Z0-9_]*)(?:(?:(?:\\.)(?:[a-zA-Z_][a-zA-Z0-9_]*))*)))",
      "captures": {
        "1": {
          "name": "storage.type.module.flat"
        },
        "2": {
          "name": "entity.name.module.flat"
        }
      }
    },
    "struct_declaration": {
      "name": "meta.declaration.struct.flat",
      "begin": "(?:((?:struct))(?:\\s*)((?:[a-zA-Z_][a-zA-Z0-9_]*))(?:\\s*)(?:(?:((?:(?:<)(?:\\s*)(?:(?:(?:\\s*)(?:[a-zA-Z_][a-zA-Z0-9_]*)(?:(?:(?:\\s*)(?:,)(?:\\s*)(?:[a-zA-Z_][a-zA-Z0-9_]*))*))?)(?:\\s*)(?:>))))?)(?:\\s*)(?:\\{))",
      "beginCaptures": {
        "1": {
          "name": "storage.type.struct.flat"
        },
        "2": {
          "name": "entity.name.struct.flat"
        },
        "3": {
          "patterns": [
            {
              "name": "entity.name.type.flat",
              "match": "((?:[a-zA-Z_][a-zA-Z0-9_]*))"
            }
          ]
        }
      },
      "end": "}"
    },
    "constraint_declaration": {
      "name": "meta.declaration.constraint.flat",
      "begin": "(?:((?:constraint))(?:\\s*)((?:[a-zA-Z_][a-zA-Z0-9_]*))(?:\\s*)(?:(?:((?:(?:<)(?:\\s*)(?:(?:(?:\\s*)(?:[a-zA-Z_][a-zA-Z0-9_]*)(?:(?:(?:\\s*)(?:,)(?:\\s*)(?:[a-zA-Z_][a-zA-Z0-9_]*))*))?)(?:\\s*)(?:>))))?)(?:\\s*)(?:\\{))",
      "beginCaptures": {
        "1": {
          "name": "storage.type.constraint.flat"
        },
        "2": {
          "name": "entity.name.constraint.flat"
        },
        "3": {
          "patterns": [
            {
              "name": "entity.name.type.flat",
              "match": "((?:[a-zA-Z_][a-zA-Z0-9_]*))"
            }
          ]
        }
      },
      "end": "}"
    },
    "type": {
      "name": "meta.type.flat",
      "begin": "(?:((?:[a-zA-Z_][a-zA-Z0-9_]*))(?:\\s*))",
      "beginCaptures": {
        "1": {
          "name": "entity.name.type.flat"
        }
      },
      "patterns": [
        {
          "name": "meta.type.generic.parameters.flat",
          "begin": "<",
          "patterns": [
            {
              "name": "meta.type.generic.parameter.flat",
              "include": "#type"
            },
            {
              "name": "meta.type.generic.parameter.flat",
              "begin": ",",
              "patterns": [
                {
                  "include": "#type"
                }
              ]
            }
          ],
          "end": "(?:(?:>)(?:\\s*)(?:(?:(?:(?:\\*)|(?:\\[\\])))*))",
          "endCaptures": {
            "1": {
              "patterns": [
                {
                  "name": "storage.type.modifier.flat",
                  "match": "(?:(?:\\*))"
                },
                {
                  "name": "storage.type.modifier.flat",
                  "match": "(?:(?:\\[\\]))"
                }
              ]
            }
          }
        },
        {
          "name": "meta.type.modifiers.flat",
          "match": "(?:(?:(?:(?:(?:\\*)|(?:\\[\\])))+))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "name": "storage.type.modifier.flat",
                  "match": "(?:(?:\\*))"
                },
                {
                  "name": "storage.type.modifier.flat",
                  "match": "(?:(?:\\[\\]))"
                }
              ]
            }
          }
        }
      ]
    }
  },
  "scopeName": "source.flat"
}
